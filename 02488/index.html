<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- é€™å°±æ˜¯æ‚¨è¦åŠ ä¸Šçš„ Favicon -->
    <link rel="icon" type="image/png" href="https://i.imgur.com/5qr0W3z.png">
    <title>Cream çš„å¥åº·äº’å‹•å ±å‘Š æ¸¬è©¦ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: #fdf8f8; /* A very light, warm pinkish-white background */
            margin: 0;
            padding: 0;
        }
        .banner-container {
            background-color: #e0b8be; /* Main theme color as requested */
            padding: 20px 0;
            text-align: center;
            border: none !important;
            outline: none !important;
        }
        .banner-image {
            max-width: 100%;
            height: auto;
            display: inline-block;
            max-height: 250px; 
            border: none !important;
            outline: none !important;
        }
        .page-section-title {
            @apply text-2xl md:text-3xl font-bold text-gray-800 mb-6 pt-8 border-t border-gray-200 mt-10;
        }
        .page-section-title:first-of-type {
            @apply border-t-0 pt-0 mt-0;
        }
        .card { 
            background-color: white; 
            border-radius: 0.75rem; 
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.07); 
            transition: all 0.3s ease; 
            margin-bottom: 1.5rem;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        table {
            min-width: 100%;
            border-collapse: collapse;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            border-radius: 0.5rem;
            overflow: hidden; 
            margin-top: 1.5rem;
        }
        thead {
            background-color: #f8e5e7; /* Lighter version of the theme color */
        }
        th {
            padding: 0.75rem 1.5rem;
            text-align: left;
            font-size: 0.75rem;
            color: #8c5d6b; /* Deep mauve for header text */
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
        }
        tbody tr {
            border-bottom: 1px solid #e2e8f0;
        }
        tbody tr:last-child {
            border-bottom: none;
        }
        tbody tr:nth-child(even) {
            background-color: #fdfcfc;
        }
        td {
            padding: 1rem 1.5rem;
            font-size: 0.875rem;
            color: #2d3748; 
            white-space: normal;
            vertical-align: top;
        }
        .organ-btn { 
            transition: all 0.2s ease-in-out; 
            background-color: #fdf2f2; /* Very light pink */
            border: 1px solid #f8e5e7;
            color: #92404b; /* Soft reddish-brown */
            @apply px-5 py-3 font-semibold rounded-full flex items-center justify-center space-x-2;
        }
        .organ-btn .icon {
            @apply text-xl; 
        }
        .organ-btn:hover { 
            transform: scale(1.05); 
            background-color: #fbe7e7;
            border-color: #e0b8be;
        }
        .organ-btn.selected {
            transform: scale(1.05); 
            background-color: #e0b8be; /* Main theme color */
            color: #374151; /* Dark gray for contrast */
            font-weight: bold;
            border-color: #c9a0a6; /* Slightly darker border for selected */
        }
        #organ-details-container {
            @apply card p-6 md:p-8 min-h-[300px] mt-6;
        }
        /* Custom link color */
        .custom-link {
            color: #a35d6a; /* Dark, muted rose */
            text-decoration: none;
        }
        .custom-link:hover {
            text-decoration: underline;
        }
        /* --- NEW: CSS for Audio Speed Buttons --- */
        .audio-speed-btn {
            background-color: #fdf2f2;
            color: #92404b;
            padding: 6px 14px;
            border-radius: 9999px;
            border: 1px solid #fbe7e7;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 14px;
            font-weight: 500;
        }
        .audio-speed-btn:hover {
            background-color: #fbe7e7;
            transform: scale(1.05);
        }
        .audio-speed-btn.active {
            background-color: #e0b8be;
            color: white;
            font-weight: bold;
            border-color: #e0b8be;
        }
        .header-title {
            color: #c48a94;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Banner (Updated as requested) -->
    <div class="banner-container">
        <img src="https://i.imgur.com/HjqqrMC.png" alt="QQ å¯æ„› Banner" class="banner-image">
    </div>

    <div class="container mx-auto p-4 md:p-8 max-w-7xl main-content-area">

        <header class="text-center my-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Cream çš„é›»è…¦æ–·å±¤(CT)äº’å‹•å ±å‘Š æ¸¬è©¦ç‰ˆ</h1>
            <p class="text-gray-600 mt-2">å ±å‘Šæ—¥æœŸ: 2025/06/15</p>
            <p class="text-gray-600 mt-2">æ­¤ä»½AIæ•´ç†å ±å‘Šåƒ…ä¾›åƒè€ƒï¼Œæ‰€æœ‰é†«ç™‚æ±ºç­–è«‹å‹™å¿…ä»¥ç¸é†«å¸«çš„<a href="http://reports.alex-ray.com/7qzth6" target="_blank" class="font-semibold custom-link">åŸå§‹å ±å‘Š</a>åŠé†«å›‘ç‚ºæº–ã€‚</p>
        </header>

        <main>
            <!-- Dashboard Section -->
            <section id="dashboard-section">
                <h2 class="page-section-title text-center mt-16 text-2xl font-bold mb-6">æ ¸å¿ƒç™¼ç¾èˆ‡å¥åº·è­¦ç¤º</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <!-- Key alerts with updated border colors -->
                    <div class="card p-6 flex flex-col items-center text-center" style="border-top: 4px solid #c95d6a;">
                        <div class="text-5xl mb-3">âš ï¸</div>
                        <h3 class="text-xl font-bold mb-2">è…¹è…”é‡é»å•é¡Œ</h3>
                        <p class="text-gray-600">åœ¨ <span class="font-semibold">è‚è†½ç³»çµ±</span> ç™¼ç¾è‚å…§è†½ç®¡ã€è†½å›Šç®¡èˆ‡ç¸½è†½ç®¡æ“´å¼µï¼Œ<span class="font-semibold">åäºŒæŒ‡è…¸å¤§ä¹³çª</span> å¢åšã€‚æ­¤å¤– <span class="font-semibold">è„¾è‡Ÿ</span> æœ‰å¤šå€‹æ–‘å¡Šç‹€é¡¯å½±å€åŸŸä¸”è…«å¤§ï¼Œéœ€é«˜åº¦æ‡·ç–‘è…«ç˜¤ã€‚</p>
                    </div>
                    <div class="card p-6 flex flex-col items-center text-center" style="border-top: 4px solid #e0b8be;">
                        <div class="text-5xl mb-3">ğŸ©º</div>
                        <h3 class="text-xl font-bold mb-2">å¤šé‡ç³»çµ±ç™¼ç¾</h3>
                        <p class="text-gray-600">åœ¨ <span class="font-semibold">é ­éƒ¨</span> ç™¼ç¾é›™å´é¼»è…”æœ‰æ¶²é«”ç©èšå’Œé¼»ç”²éª¨æº¶è§£ã€‚ <span class="font-semibold">èƒ¸è…”</span> æœ‰è‚ºéƒ¨é–“è³ª/è‚ºæ³¡ç›¸è®ŠåŒ–åŠæ”¯æ°£ç®¡æ“´å¼µã€‚åŒæ™‚æœ‰ <span class="font-semibold">è„Šæ¤</span> èˆ‡ <span class="font-semibold">é—œç¯€</span> çš„é€€è¡Œæ€§ç—…è®Šã€‚</p>
                    </div>
                    <div class="card p-6 flex flex-col items-center text-center" style="border-top: 4px solid #f0d0d5;">
                        <div class="text-5xl mb-3">âœ…</div>
                        <h3 class="text-xl font-bold mb-2">æœªè¦‹æ˜ç¢ºè½‰ç§»è·¡è±¡</h3>
                        <p class="text-gray-600">æœ¬æ¬¡é›»è…¦æ–·å±¤æƒæåœ¨ <span class="font-semibold">è‚ºéƒ¨æœªç™¼ç¾æ˜ç¢ºçš„è…«ç˜¤è½‰ç§»è­‰æ“š</span>ï¼Œæ­¤ç‚ºç›¸å°æ­£é¢çš„æ¶ˆæ¯ï¼Œæœ‰åŠ©æ–¼å¾ŒçºŒæ²»ç™‚è©•ä¼°ã€‚</p>
                    </div>
                </div>
            </section>
            
            <!-- Details Section -->
            <section id="details-section">
                <h2 class="page-section-title text-center mt-16 text-2xl font-bold">ç³»çµ±è©³æƒ…</h2>
                <p class="text-center text-gray-600 mt-1 mb-8">é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œæ¢ç´¢å„å€‹ç³»çµ±çš„è©³ç´°ç™¼ç¾ã€ç¸é†«çš„åˆ†æèˆ‡å»ºè­°ã€‚</p>
                <div class="flex flex-wrap justify-center gap-x-3 gap-y-4 mb-8" id="organ-buttons-container"> 
                    <!-- Organ buttons will be injected here by JS -->
                </div>
                <div id="organ-details-container">
                    <!-- Selected organ details will be shown here -->
                </div>
            </section>

            <!-- Plan Section -->
            <section id="plan-section">
                <h2 class="page-section-title text-center mt-16 text-2xl font-bold">è¡Œå‹•è¨ˆç•«èˆ‡è¿½è¹¤å»ºè­°</h2>
                <p class="text-center text-gray-600 mt-1 mb-8">é€™è£¡æ˜¯ç¸é†«å¸«æ ¹æ“šå½±åƒç™¼ç¾å»ºè­°çš„å¾ŒçºŒæ­¥é©Ÿï¼Œå¹«åŠ©æ‚¨è¦åŠƒæœªä¾†çš„é†«ç™‚ç…§è­·ã€‚</p>
                <div class="card p-6">
                    <div class="overflow-x-auto">
                        <table id="followUpTable">
                            <thead>
                                <tr>
                                    <th style="color: #8c5d6b;">ç³»çµ±/éƒ¨ä½</th>
                                    <th>ä¸»è¦ç™¼ç¾/å•é¡Œ</th>
                                    <th>å»ºè­°è¡Œå‹•</th>
                                    <th style="color: #8c5d6b;">å„ªå…ˆç´š</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Table rows will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- FIXED: Audio Player Section -->
            <section id="audio-guide" class="mb-16 scroll-mt-20">
                <h2 class="text-3xl font-bold text-center mb-2 header-title">AIå°è©±æ·ºèŠCreamé›»è…¦æ–·å±¤å ±å‘Š</h2>
                <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">æ‚¨å¯ä»¥è†è½AIå½¢æˆçš„podcastå°è©±è¨è«–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ–¹çš„æŒ‰éˆ•èª¿æ•´æ’­æ”¾é€Ÿåº¦ã€‚</p>
                <div class="w-full md:w-2/3 lg:w-1/2 mx-auto">
                    <div class="bg-white p-4 md:p-6 shadow-xl border-2 rounded-lg" style="border-color: #e0b8be;">
                        <!-- Audio player with speed controls -->
                        <audio id="interactiveGuideAudio" controls class="w-full mb-4">
                            <!-- 
                                é‡è¦ï¼šè«‹å°‡æ‚¨çš„éŸ³è¨Šæª”å‘½åç‚º "02488.wav"ï¼Œ
                                ä¸¦å°‡å®ƒä¸Šå‚³åˆ°èˆ‡é€™å€‹ index.html æª”æ¡ˆç›¸åŒçš„è³‡æ–™å¤¾ä¸­ã€‚
                            -->
                            <source src="02488.wav" type="audio/mpeg">
                            æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´ audio æ¨™ç±¤ã€‚
                        </audio>
                        <div class="controls flex justify-center gap-2 flex-wrap">
                            <button data-speed="0.75" class="audio-speed-btn">0.75x</button>
                            <button data-speed="1" class="audio-speed-btn active">æ­£å¸¸</button>
                            <button data-speed="1.25" class="audio-speed-btn">1.25x</button>
                            <button data-speed="1.5" class="audio-speed-btn">1.5x</button>
                            <button data-speed="2" class="audio-speed-btn">2x</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer class="text-center mt-12 py-6 border-t border-gray-200">
            <p class="text-sm text-gray-500">æœ¬ç¶²é ç”±ç¾åœ‹ç¸é†«å½±åƒå°ˆç§‘é†«å¸« è¬æ·¯ç´˜é†«å¸«ä½¿ç”¨AIç¨‹å¼ç‚ºé£¼ä¸»åŠ‰ä½©æ˜‡èˆ‡ã€ŒCreamã€å°ˆå±¬è£½ä½œã€‚</p>
            <p class="text-sm text-gray-500">å…§å®¹åŸºæ–¼ <a href="https://www.alex-ray.com" target="_blank" class="font-semibold custom-link">æ„›åŠ›å…‹ç…ç¸é†«å½±åƒå­¸é™¢</a> æä¾›çš„é›»è…¦æ–·å±¤å ±å‘Šæ•´ç†ï¼Œåƒ…ä¾›åƒè€ƒï¼Œæ‰€æœ‰é†«ç™‚æ±ºç­–è«‹å‹™å¿…èˆ‡æ‚¨çš„ä¸»æ²»ç¸é†«å¸«è¨è«–ã€‚</p>
        </footer>

    </div>

<script>
// Data extracted and summarized from the provided PDF report for "Cream"
const reportData = {
    headNeck: {
        title: "é ­éƒ¨èˆ‡é ¸éƒ¨ (é¼»è…”ã€ç«‡ã€ç‰™é½’)",
        icon: "ğŸ‘ƒ", // Nose emoji
        findings: [
            "<b>é›™å´é¼»è…”åŠå³é¡ç«‡ã€å·¦è¶ç«‡æœ‰æ¶²é«”ç©èš:</b> å°è‡´é¼»ç”²éª¨è¼•åº¦éˆåŒ–å’Œæº¶è§£ï¼Œå³å´è¼ƒåš´é‡ã€‚",
            "<b>å¤šé¡†ç‰™é½’ç¼ºå¤±ã€‚</b>",
            "å…¶é¤˜å”¾æ¶²è…ºã€ä¸‹é œéª¨ã€é¼»å’½ã€é¼“å®¤ã€ç”²ç‹€è…ºåŠæ·‹å·´çµç„¡æ˜é¡¯ç•°å¸¸ã€‚"
        ],
        implications: "ä¸»è¦ç‚ºæ…¢æ€§é¼»ç‚çš„è¡¨ç¾ï¼Œä¾‹å¦‚æ·‹å·´æ¼¿ç´°èƒæ€§é¼»ç‚ã€‚ç„¡æ³•æ’é™¤åŒæ™‚æœ‰æ„ŸæŸ“æˆ–ç•°ç‰©ï¼Œè…«ç˜¤æ©Ÿæœƒè¼ƒä½ã€‚é¼»é ­æ½°ç˜å¯èƒ½èˆ‡é¼»è…”å•é¡Œç›¸é—œã€‚",
        recommendations: "è‹¥å°šæœªé€²è¡Œï¼Œå¯è€ƒæ…®é¼»è…”é¡æª¢æŸ¥åŠç”Ÿæª¢æ¡æ¨£ï¼Œä»¥é€²ä¸€æ­¥è©•ä¼°ç—…å› ã€‚",
        followUp: { action: "é¼»è…”é¡æª¢æŸ¥èˆ‡ç”Ÿæª¢", priority: "é«˜" }
    },
    thorax: {
        title: "èƒ¸è…” (è‚ºã€å¿ƒè‡Ÿ)",
        icon: "ğŸ«", // Lungs emoji
        findings: [
            "<b>è‚ºè‘‰è¼•åº¦é–“è³ªè‡³è‚ºæ³¡ç›¸è®ŠåŒ–:</b> ä½æ–¼å³å‰ã€å³å¾Œã€å·¦å¾Œè‚ºè‘‰è…¹å´åŠå³å¾Œè‚ºè‘‰èƒŒå´ã€‚",
            "<b>æ”¯æ°£ç®¡ç›¸åŠæ”¯æ°£ç®¡æ“´å¼µ:</b> æ‰€æœ‰è‚ºè‘‰æ”¯æ°£ç®¡å£è¼•åº¦å¢åšï¼Œéƒ¨åˆ†æ”¯æ°£ç®¡æ“´å¼µã€‚",
            "<b>å·¦å¿ƒæˆ¿ä¸»è§€è¼•åº¦æ“´å¤§ã€‚</b>",
            "<b>ä¸»å‹•è„ˆæ ¹éƒ¨æœ‰æ›²ç·šç‹€ç¤¦ç‰©è³ªã€‚</b>"
        ],
        implications: "è‚ºéƒ¨è®ŠåŒ–å¯èƒ½ç‚ºæ”¯æ°£ç®¡/ä¸‹å‘¼å¸é“ç–¾ç—…ä¼´éš¨æ”¯æ°£ç®¡æ“´å¼µï¼Œéœ€è€ƒæ…®éæ•ã€åˆºæ¿€æˆ–æ„ŸæŸ“ã€‚è‚ºå¡Œé™·å¯èƒ½æ˜¯éº»é†‰æˆ–è¶´è‡¥å¼•èµ·ã€‚å·¦å¿ƒæˆ¿æ“´å¤§éœ€æ’é™¤å¿ƒè‚Œç—…ï¼Œä½†æœ¬æ¬¡æª¢æŸ¥ç„¡å¿ƒè¡°ç«­è·¡è±¡ã€‚",
        recommendations: "å¦‚è‡¨åºŠéœ€è¦ï¼Œå¯è€ƒæ…®æ°£é“æ¡æ¨£ (å¦‚æ”¯æ°£ç®¡è‚ºæ³¡çŒæ´—)ï¼›å¿ƒè‡Ÿè¶…éŸ³æ³¢å¯é€²ä¸€æ­¥è©•ä¼°å¿ƒè‡Ÿã€‚è‚ºéƒ¨ç›®å‰æœªè¦‹æ˜ç¢ºè…«ç˜¤è½‰ç§»è­‰æ“šã€‚",
        followUp: { action: "ç›£æ§å‘¼å¸ç‹€æ³ï¼Œå¿…è¦æ™‚è©•ä¼°å¿ƒè‡Ÿ", priority: "ä¸­" }
    },
    abdomen: {
        title: "è…¹è…” (è‚è†½ã€è„¾è‡Ÿã€èƒ°è‡Ÿã€è…¸é“)",
        icon: "ğŸŸ ", // Orange circle for abdomen
        findings: [
            "<b>è†½é“ç³»çµ±é¡¯è‘—ç•°å¸¸:</b> è†½å›Šç¼ºå¤± (ç¬¦åˆç—…å²)ã€‚å¤šæ¢è‚å…§è†½ç®¡æ“´å¼µ (3.4mm)ï¼Œè†½å›Šç®¡èˆ‡ç¸½è†½ç®¡æ“´å¼µ (æœ€å¤§5mm)ã€‚åäºŒæŒ‡è…¸å¤§ä¹³çªå¢åš (ç´„7mmx3.4mm)ã€‚",
            "<b>è‚è‡Ÿçµç¯€:</b> å·¦å¤–å´è‚è‘‰æœ‰2.2mmä½è¡°æ¸›çµç¯€ï¼Œå¯èƒ½æ˜¯å›Šè…«ï¼Œè…«ç˜¤å¯èƒ½æ€§è¼ƒä½ã€‚",
            "<b>è„¾è‡Ÿè…«å¤§:</b> è„¾è‡Ÿä¸»è§€è…«å¤§ï¼Œæœ‰å¤šå€‹æ–‘å¡Šç‹€é¡¯å½±å€åŸŸ (åšåº¦é”1.5cm)ã€‚",
            "<b>èƒ°è‡Ÿè¼•åº¦å¢åš:</b> èƒ°è‡Ÿå·¦è‘‰å’Œé«”éƒ¨ä¸»è§€è¼•åº¦å¢åš (é”1.1cm)ã€‚",
            "èƒƒã€å°è…¸ã€çµè…¸ã€è…è‡Ÿã€è…ä¸Šè…ºã€è†€èƒ±åŠè…¹è…”æ·‹å·´çµåœ¨æ­£å¸¸ç¯„åœå…§ã€‚"
        ],
        implications: "è†½é“æ“´å¼µå¯èƒ½ç¹¼ç™¼æ–¼è†½å›Šç¼ºå¤±çš„é‡å¡‘ã€è†½æ±é¬±æ»¯ï¼Œæˆ–å› åäºŒæŒ‡è…¸å¤§ä¹³çªå¢åšå¼•èµ·çš„è‚å¤–è†½ç®¡é˜»å¡ã€‚è„¾è‡Ÿè…«å¤§éœ€è€ƒæ…®é¬±è¡€ã€è„¾ç‚æˆ–è…«ç˜¤ã€‚èƒ°è‡Ÿå¢åšå¯èƒ½ç‚ºå¢ç”Ÿæˆ–æ…¢æ€§èƒ°è‡Ÿç‚ã€‚",
        recommendations: "<b>æœ€å„ªå…ˆå»ºè­°ï¼š</b>è…¹éƒ¨è¶…éŸ³æ³¢æª¢æŸ¥ (é«˜é »ç·šæ€§æ¢é ­ï¼Œç”±ç¸é†«å½±åƒå°ˆç§‘é†«å¸«é€²è¡Œ) ä»¥é€²ä¸€æ­¥è©•ä¼°åäºŒæŒ‡è…¸å¤§ä¹³çªåŠè†½é“ç³»çµ±ï¼Œå¯èƒ½éœ€è¦1-3å€‹æœˆå¾Œè¤‡æŸ¥ã€‚è‚è‡Ÿçµç¯€å¯è€ƒæ…®ç´°é‡ç©¿åˆºã€‚è„¾è‡Ÿè…«å¤§éœ€é€²ä¸€æ­¥é‘‘åˆ¥è¨ºæ–·ã€‚",
        followUp: { action: "è…¹éƒ¨è¶…éŸ³æ³¢èˆ‡é‘‘åˆ¥è¨ºæ–·", priority: "é«˜" }
    },
    skeletal: {
        title: "éª¨éª¼èˆ‡é—œç¯€",
        icon: "ğŸ¦´", // Bone emoji
        findings: [
            "<b>èƒ¸æ¤èˆ‡è…°æ¤è„Šæ¤é€€è¡Œæ€§ç—…è®Š (spondylosis deformans)ã€‚</b>",
            "<b>é›™å´è‚©èƒ›è‚±é—œç¯€èˆ‡é«–è‚¡é—œç¯€æœ‰è¼•å¾®é€€è¡Œæ€§è®ŠåŒ–ã€‚</b>"
        ],
        implications: "é€™äº›æ˜¯å¸¸è¦‹çš„è€å¹´æ€§é€€è¡Œæ€§è®ŠåŒ–ï¼Œå¯èƒ½å°è‡´é—œç¯€ç–¼ç—›æˆ–æ´»å‹•å—é™ã€‚",
        recommendations: "ç›£æ§ç—…æ‚£çš„æ´»å‹•åŠ›èˆ‡ç–¼ç—›è¡¨ç¾ï¼Œå¿…è¦æ™‚å¯èˆ‡ç¸é†«å¸«è¨è«–æ­¢ç—›æˆ–é—œç¯€ä¿å¥æ–¹æ¡ˆã€‚",
        followUp: { action: "ç›£æ§æ´»å‹•åŠ›èˆ‡ç–¼ç—›", priority: "ä½" }
    }
};

const organDisplayOrder = ['abdomen', 'headNeck', 'thorax', 'skeletal']; // Adjust order as needed. Abdomen is highest priority.

document.addEventListener('DOMContentLoaded', () => {
    const organButtonsContainer = document.getElementById('organ-buttons-container');
    const organDetailsContainer = document.getElementById('organ-details-container');
    const followUpTableBody = document.querySelector('#followUpTable tbody');

    function createOrganButtons() {
        if (!organButtonsContainer) return;
        organDisplayOrder.forEach(key => {
            const data = reportData[key];
            if (data && data.title) {
                const button = document.createElement('button');
                button.className = 'organ-btn';
                button.dataset.organ = key;
                button.innerHTML = `<span class="icon">${data.icon}</span><span>${data.title}</span>`;
                button.addEventListener('click', () => {
                    displaySelectedOrganDetail(key);
                    document.querySelectorAll('.organ-btn').forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                });
                organButtonsContainer.appendChild(button);
            }
        });
    }

    function displaySelectedOrganDetail(organKey) {
        if (!organDetailsContainer) return;
        const data = reportData[organKey];
        if (!data) return;

        let html = `<h3 class="text-2xl font-bold mb-6 flex items-center"><span class="text-3xl mr-3">${data.icon}</span>${data.title}</h3>`;
        html += `<div class="grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-6">`;
        html += `
            <div>
                <h4 class="font-bold text-lg mb-2 pb-1" style="color:#a35d6a; border-bottom: 2px solid #f8e5e7;">å½±åƒç™¼ç¾</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700">${data.findings.map(f => `<li>${f}</li>`).join('')}</ul>
            </div>
            <div>
                <h4 class="font-bold text-lg mb-2 pb-1" style="color:#a35d6a; border-bottom: 2px solid #f8e5e7;">é€™ä»£è¡¨ä»€éº¼ï¼Ÿ</h4>
                <p class="text-gray-700">${data.implications || 'å¾…è£œå……ç›¸é—œåˆ†æã€‚'}</p>
            </div>
            <div>
                <h4 class="font-bold text-lg mb-2 pb-1" style="color:#a35d6a; border-bottom: 2px solid #f8e5e7;">ç¸é†«å»ºè­°</h4>
                <p class="text-gray-700">${data.recommendations || 'å¾…è£œå……ç›¸é—œå»ºè­°ã€‚'}</p>
            </div>
        `;
        html += `</div>`;
        organDetailsContainer.innerHTML = html;
    }

    function getPriorityClass(priority) {
        if (!priority) return 'text-gray-700';
        const lowerPriority = priority.toLowerCase();
        if (lowerPriority.includes("é«˜")) {
            return 'font-extrabold'; /* Style will be inline */
        }
        if (lowerPriority.includes("é«˜")) {
            return 'font-semibold'; /* Style will be inline */
        }
        return '';
    }

    function getPriorityColor(priority) {
        if (!priority) return '#2d3748'; // default text color
        const lowerPriority = priority.toLowerCase();
        if (lowerPriority.includes("é«˜")) {
            return '#c95d6a'; // Strong rose
        }
        if (lowerPriority.includes("é«˜")) {
            return '#d98a96'; // Muted rose
        }
        return '#8c5d6b'; // Deep mauve for low
    }


    function populateFollowUpTable() {
        if (!followUpTableBody) return;
        let tableHtml = '';
        organDisplayOrder.forEach(key => {
            const item = reportData[key];
            if (item && item.followUp) {
                const organTitleClass = "font-bold text-gray-800";
                const priorityClass = getPriorityClass(item.followUp.priority);
                const priorityColor = getPriorityColor(item.followUp.priority);
                
                let shortFinding = item.findings[0].replace(/<[^>]*>/g, ""); // Remove HTML tags
                shortFinding = shortFinding.split('ã€‚')[0]; // Take only the first sentence

                tableHtml += `
                    <tr>
                        <td class="${organTitleClass}">${item.title}</td>
                        <td>${shortFinding}</td>
                        <td>${item.followUp.action}</td>
                        <td class="${priorityClass}" style="color: ${priorityColor};">${item.followUp.priority}</td>
                    </tr>
                `;
            }
        });
        followUpTableBody.innerHTML = tableHtml;
    }
    
    // --- NEW: Audio Speed Control Logic ---
    const audioPlayer = document.getElementById('interactiveGuideAudio');
    if (audioPlayer) {
        const speedButtonsContainer = audioPlayer.nextElementSibling;
        speedButtonsContainer.addEventListener('click', (event) => {
            const button = event.target.closest('.audio-speed-btn');
            if (button) {
                const speed = parseFloat(button.dataset.speed);
                audioPlayer.playbackRate = speed;

                // Update active button state
                speedButtonsContainer.querySelectorAll('.audio-speed-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                button.classList.add('active');
                
                // Play audio if it was paused
                if (audioPlayer.paused) {
                    audioPlayer.play();
                }
            }
        });
    }


    // Initial setup
    createOrganButtons();
    const firstButton = organButtonsContainer.querySelector('.organ-btn');
    if (firstButton) {
        firstButton.click();
    }
    populateFollowUpTable();
});
</script>

</body>
</html>
